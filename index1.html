<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hotel Management System</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  </head>
  <body class="custom-body">
    <div class="custom-app-container">
      <header class="custom-header">
        <div class="header-title-group">
          <h1 class="header-main-title">Room Management</h1>
        </div>
      </header>

      <div class="custom-main-layout">
        <nav class="custom-sidebar">
          <button
            id="tabChecklist"
            class="tab-button active"
            data-target="roomChecklistSection"
          >
            Checklist üìù
          </button>

          <button
            id="tabHousekeeping"
            class="tab-button"
            data-target="housekeepingReportSection"
          >
            Reports üìä
          </button>
          <div id="housekeepingSubNav" class="sub-nav-menu">
            <button
              id="subTabStatusReportForm"
              class="sub-tab-button active-sub"
              data-target="housekeepingReportFormContent"
            >
              Submit Report
            </button>
            <button
              id="subTabStatusReportList"
              class="sub-tab-button"
              data-target="housekeepingReportListContent"
            >
              View Reports
            </button>
          </div>

          <button
            id="tabInventory"
            class="tab-button"
            data-target="inventorySection"
          >
            Inventory üì¶
          </button>
          <div id="inventorySubNav" class="sub-nav-menu">
            <button
              id="subTabInventoryUpdate"
              class="sub-tab-button active-sub"
              data-target="inventoryFormContent"
            >
              Update Stock
            </button>
            <button
              id="subTabInventoryLevels"
              class="sub-tab-button"
              data-target="inventoryLevelsContent"
            >
              Stock Levels
            </button>
          </div>
        </nav>

        <main class="custom-main-content">
          <div
            id="roomChecklistSection"
            class="tab-content active-tab-content"
          >
            <div class="content-panel panel-flex-basis-100">
              <h2 class="section-title-center">Hotel Room Checklist</h2>
              <form id="checklistForm" class="form-layout">
                <div>
                  <label for="room" class="form-label">Room Number:</label>
                  <select
                    id="room"
                    name="room"
                    required
                    class="form-input"
                  >
                    <option value="">-- Select a Room --</option>
                    <option value="101">Room 101</option>
                    <option value="102">Room 102</option>
                    <option value="120">Room 120</option>
                  </select>
                </div>
                <div>
                  <label for="date" class="form-label">Date:</label>
                  <input
                    type="date"
                    id="date"
                    name="date"
                    required
                    class="form-input"
                  />
                </div>
                <div class="grid-two-col-gap">
                  <div>
                    <p class="form-label-inline-group">Towel:</p>
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="towels"
                        value="yes"
                        required
                        class="radio-input"
                      />
                      Yes</label
                    >
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="towels"
                        value="no"
                        required
                        class="radio-input"
                      />
                      No</label
                    >
                  </div>

                  <div>
                    <p class="form-label-inline-group">Soap:</p>
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="soap"
                        value="yes"
                        required
                        class="radio-input"
                      />
                      Yes</label
                    >
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="soap"
                        value="no"
                        required
                        class="radio-input"
                      />
                      No</label
                    >
                  </div>

                  <div>
                    <p class="form-label-inline-group">Door mat:</p>
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="door mat"
                        value="yes"
                        required
                        class="radio-input"
                      />
                      Yes</label
                    >
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="door mat"
                        value="no"
                        required
                        class="radio-input"
                      />
                      No</label
                    >
                  </div>

                  <div>
                    <p class="form-label-inline-group">Sandals:</p>
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="sandals"
                        value="yes"
                        required
                        class="radio-input"
                      />
                      Yes</label
                    >
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="sandals"
                        value="no"
                        required
                        class="radio-input"
                      />
                      No</label
                    >
                  </div>

                  <div>
                    <p class="form-label-inline-group">Toliet paper:</p>
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="toilet paper"
                        value="yes"
                        required
                        class="radio-input"
                      />
                      Yes</label
                    >
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="toilet paper"
                        value="no"
                        required
                        class="radio-input"
                      />
                      No</label
                    >
                  </div>

                  <div>
                    <p class="form-label-inline-group">Trash can:</p>
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="trash can"
                        value="yes"
                        required
                        class="radio-input"
                      />
                      Yes</label
                    >
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="trash can"
                        value="no"
                        required
                        class="radio-input"
                      />
                      No</label
                    >
                  </div>

                  <div>
                    <p class="form-label-inline-group">Remote:</p>
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="remote"
                        value="yes"
                        required
                        class="radio-input"
                      />
                      Yes</label
                    >
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="remote"
                        value="no"
                        required
                        class="radio-input"
                      />
                      No</label
                    >
                  </div>

                  <div>
                    <p class="form-label-inline-group">TV:</p>
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="tv"
                        value="yes"
                        required
                        class="radio-input"
                      />
                      Yes</label
                    >
                    <label class="radio-label"
                      ><input
                        type="radio"
                        name="tv"
                        value="no"
                        required
                        class="radio-input"
                      />
                      No</label
                    >
                  </div>
                </div>
                <button
                  type="submit"
                  class="submit-button green-button"
                >
                  Submit Checklist
                </button>
              </form>

              <p id="message" class="message-text success-message"></p>
            </div>

            <div class="content-panel panel-flex-basis-100 mt-8">
              <h2 class="section-title">Room Checklists</h2>
              <div class="flex-row-space-between mb-6">
                <input
                  type="search"
                  id="searchInput"
                  placeholder="Search room or date..."
                  class="search-input"
                />
                <div class="flex-gap-2">
                  <button
                    onclick="exportToExcel()"
                    class="action-button yellow-button"
                  >
                    Export
                  </button>
                  <button
                    onclick="printChecklists()"
                    class="action-button blue-button"
                  >
                    Print
                  </button>
                </div>
              </div>
              <div class="table-container">
                <table
                  id="checklistTable"
                  class="data-table"
                >
                  <thead class="table-header">
                    <tr>
                      <th class="table-head-cell">Room</th>
                      <th class="table-head-cell">Date</th>
                      <th class="table-head-cell">Items</th>
                      <th class="table-head-cell">Actions</th>
                    </tr>
                  </thead>
                  <tbody id="checklistBody" class="table-body"></tbody>
                </table>
              </div>
              <div class="pagination-controls">
                <button id="prevBtn" class="action-button gray-button">
                  Prev
                </button>
                <span id="pageInfo" class="pagination-info"></span>
                <button id="nextBtn" class="action-button gray-button">
                  Next
                </button>
              </div>
            </div>

            <div class="content-panel panel-flex-basis-100 mt-8">
              <h3 class="section-title">Missing Items Summary</h3>
              <div class="flex-row-space-between-mobile mb-4">
                <label for="missingItemsDateFilter" class="form-label-inline"
                  >Filter by Date:</label
                >
                <input
                  type="date"
                  id="missingItemsDateFilter"
                  class="filter-input"
                />
                <button
                  id="clearMissingItemsDateFilter"
                  class="action-button gray-button"
                >
                  Clear Filter
                </button>
              </div>
              <div id="missingItemsSummary" class="mt-4"></div>
            </div>
          </div>

          <div id="housekeepingReportSection" class="tab-content hidden-tab-content">
            <div id="housekeepingReportFormContent" class="sub-tab-content active-sub-content">
              <div class="content-panel">
                <h2 class="section-title-center">Housekeeping Room Status Report</h2>
                <form id="statusReportForm" class="form-layout">
                  <div>
                    <label for="reportRoom" class="form-label">Room Name:</label>
                    <input
                      type="text"
                      id="reportRoom"
                      name="room"
                      required
                      class="form-input"
                      placeholder="e.g., 101, Suite A"
                    />
                  </div>
                  <div>
                    <label for="reportCategory" class="form-label"
                      >Category:</label
                    >
                    <select
                      id="reportCategory"
                      name="category"
                      required
                      class="form-input"
                    >
                      <option value="">-- Select Category --</option>
                      <option value="deluxe1">Deluxe 1</option>
                      <option value="deluxe2">Deluxe 2</option>
                      <option value="deluxetwin">Deluxe Twin</option>
                      <option value="juniorsuite">Junior Suite</option>
                    </select>
                  </div>
                  <div>
                    <label for="reportStatus" class="form-label">Status:</label>
                    <select
                      id="reportStatus"
                      name="status"
                      required
                      class="form-input"
                    >
                      <option value="">-- Select Status --</option>
                      <option value="arrival">Arrival</option>
                      <option value="occupied">Occupied</option>
                      <option value="departure">Departure</option>
                      <option value="vacant_ready">Vacant Ready</option>
                      <option value="vacant_not_ready">Vacant but not Ready</option>
                      <option value="out_of_order">Out of Order</option>
                      <option value="out_of_service">Out of Service</option>
                    </select>
                  </div>
                  <div>
                    <label for="reportRemarks" class="form-label"
                      >Remarks:</label
                    >
                    <textarea
                      id="reportRemarks"
                      name="remarks"
                      class="form-input"
                      rows="3"
                      placeholder="Any additional notes..."
                    ></textarea>
                  </div>
                  <div>
                    <label for="reportDateTime" class="form-label"
                      >Date and Time:</label
                    >
                    <input
                      type="datetime-local"
                      id="reportDateTime"
                      name="dateTime"
                      required
                      class="form-input"
                    />
                  </div>
                  <button
                    type="submit"
                    class="submit-button blue-button"
                  >
                    Submit Report
                  </button>
                </form>

                <p id="statusMessage" class="message-text success-message"></p>
              </div>
            </div>
            
            <div id="housekeepingReportListContent" class="sub-tab-content hidden-sub-content">
              <div class="content-panel">
                <h2 class="section-title">Housekeeping Reports</h2>
                <div class="flex-row-space-between mb-6">
                  <div class="flex-row-gap-4">
                    <label for="filterDate" class="form-label-inline"
                      >Filter by Date:</label
                    >
                    <input
                      type="date"
                      id="filterDate"
                      class="filter-input"
                    />
                  </div>
                  <div class="flex-gap-2">
                    <button
                      onclick="filterStatusReportsByDate()"
                      class="action-button purple-button"
                    >
                      Apply
                    </button>
                    <button
                      onclick="clearStatusDateFilter()"
                      class="action-button gray-button"
                    >
                      Clear
                    </button>
                    <button
                      onclick="exportStatusReportsToExcel()"
                      class="action-button yellow-button"
                    >
                      Export
                    </button>
                    <button
                      onclick="printStatusReports()"
                      class="action-button blue-button"
                    >
                      Print
                    </button>
                  </div>
                </div>
                <div class="table-container">
                  <table
                    id="statusReportTable"
                    class="data-table"
                  >
                    <thead class="table-header">
                      <tr>
                        <th class="table-head-cell">Room</th>
                        <th class="table-head-cell">Category</th>
                        <th class="table-head-cell">Status</th>
                        <th class="table-head-cell">Remarks</th>
                        <th class="table-head-cell">Date & Time</th>
                        <th class="table-head-cell">Actions</th>
                      </tr>
                    </thead>
                    <tbody id="statusReportBody" class="table-body"></tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>

          <div id="inventorySection" class="tab-content hidden-tab-content">
            <div id="inventoryFormContent" class="sub-tab-content active-sub-content">
              <div class="content-panel">
                <h2 class="section-title-center">Inventory Management</h2>
                <form id="inventoryForm" class="form-layout">
                  <div>
                    <label for="inventoryItem" class="form-label"
                      >Item Name:</label
                    >
                    <input
                      type="text"
                      id="inventoryItem"
                      name="item"
                      required
                      class="form-input"
                      placeholder="e.g., Shampoo, Soap, Towels"
                    />
                  </div>
                  <div>
                    <label for="inventoryQuantity" class="form-label"
                      >Quantity:</label
                    >
                    <input
                      type="number"
                      id="inventoryQuantity"
                      name="quantity"
                      required
                      class="form-input"
                      placeholder="e.g., 50"
                      min="1"
                    />
                  </div>
                  <div>
                    <label for="lowStockLevel" class="form-label"
                      >Low Stock Notification Level:</label
                    >
                    <input
                      type="number"
                      id="lowStockLevel"
                      name="lowStockLevel"
                      class="form-input"
                      placeholder="e.g., 10"
                      min="0"
                    />
                  </div>
                  <div>
                    <label for="inventoryAction" class="form-label"
                      >Action:</label
                    >
                    <select
                      id="inventoryAction"
                      name="action"
                      required
                      class="form-input"
                    >
                      <option value="add">Add to Stock</option>
                      <option value="use">Use from Stock</option>
                    </select>
                  </div>
                  <button
                    type="submit"
                    class="submit-button indigo-button"
                  >
                    Update Inventory
                  </button>
                </form>
                <p id="inventoryMessage" class="message-text success-message"></p>
              </div>
            </div>

            <div id="inventoryLevelsContent" class="sub-tab-content hidden-sub-content">
              <div class="content-panel">
                <h3 class="section-title">Current Stock Levels</h3>
                <div class="flex-row-space-between mb-6">
                  <input
                    type="search"
                    id="inventorySearch"
                    placeholder="Search item..."
                    class="search-input"
                  />
                  <div class="flex-gap-2">
                    <button
                      onclick="loadInventory()"
                      class="action-button gray-button"
                    >
                      Refresh
                    </button>
                    <button
                      onclick="exportInventoryToExcel()"
                      class="action-button yellow-button"
                    >
                      Export
                    </button>
                  </div>
                </div>

                <div class="flex-row-space-between-mobile mt-8 mb-6">
                  <h3 class="section-title-small">Inventory Snapshot</h3>
                  <div class="flex-row-gap-4">
                    <label for="snapshotDate" class="form-label-inline"
                      >Select Date:</label
                    >
                    <input
                      type="date"
                      id="snapshotDate"
                      class="date-input"
                    />
                    <button
                      onclick="getInventorySnapshot()"
                      class="action-button blue-button"
                    >
                      View Snapshot
                    </button>
                  </div>
                </div>

                <div class="table-container">
                  <table
                    id="inventoryTable"
                    class="data-table"
                  >
                    <thead class="table-header">
                      <tr>
                        <th class="table-head-cell">Item Name</th>
                        <th class="table-head-cell">Stock Level</th>
                        <th class="table-head-cell">Low Stock Threshold</th>
                        <th
                          class="table-head-cell"
                          id="actionsHeader"
                        >
                          Actions
                        </th>
                      </tr>
                    </thead>
                    <tbody id="inventoryBody" class="table-body"></tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </main>
      </div>
    </div>

    <script src="script3.js"></script>
  </body>
</html>
