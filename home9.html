<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <title>Hotel Management System</title>
    <style>
      /* Base styles for a cleaner look */
      body {
        font-family:
          'Segoe UI',
          'Roboto',
          'Helvetica Neue',
          Arial,
          sans-serif;
      }
      .tab-button {
        transition:
          background-color 0.3s,
          color 0.3s;
      }
      /* Custom styles for better mobile table experience */
      @media (max-width: 768px) {
        table,
        thead,
        tbody,
        th,
        td,
        tr {
          display: block;
        }
        thead tr {
          position: absolute;
          top: -9999px;
          left: -9999px;
        }
        tr {
          border: 1px solid #e5e7eb;
          margin-bottom: 0.75rem;
          border-radius: 0.5rem;
          overflow: hidden;
          background-color: #fff;
          box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        td {
          border: none;
          border-bottom: 1px solid #f3f4f6;
          position: relative;
          padding-left: 50%;
          text-align: right;
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 0.75rem 1rem;
        }
        td:before {
          position: absolute;
          top: 0;
          left: 1rem;
          width: 45%;
          padding-right: 10px;
          white-space: nowrap;
          text-align: left;
          font-weight: 600; /* Semi-bold label */
          color: #4b5563; /* Darker text for label */
          line-height: 1.5rem;
        }
        /* Data labels for checklist table */
        #checklistTable td:nth-of-type(1):before {
          content: 'Room:';
        }
        #checklistTable td:nth-of-type(2):before {
          content: 'Date:';
        }
        #checklistTable td:nth-of-type(3):before {
          content: 'Items:';
        }
        #checklistTable td:nth-of-type(4):before {
          content: 'Actions:';
        }

        /* Data labels for status report table */
        #statusReportTable td:nth-of-type(1):before {
          content: 'Room:';
        }
        #statusReportTable td:nth-of-type(2):before {
          content: 'Category:';
        }
        #statusReportTable td:nth-of-type(3):before {
          content: 'Status:';
        }
        #statusReportTable td:nth-of-type(4):before {
          content: 'Remarks:';
        }
        #statusReportTable td:nth-of-type(5):before {
          content: 'Date & Time:';
        }
        #statusReportTable td:nth-of-type(6):before {
          content: 'Actions:';
        }

        /* Data labels for inventory table */
        #inventoryTable td:nth-of-type(1):before {
          content: 'Item:';
        }
        #inventoryTable td:nth-of-type(2):before {
          content: 'Stock Level:';
        }
        #inventoryTable td:nth-of-type(3):before {
          content: 'Threshold:';
        }
        #inventoryTable td:nth-of-type(4):before {
          content: 'Actions:';
        }

        /* Adjust padding for edit inputs in mobile table */
        td input,
        td select,
        td textarea {
          width: 100%;
          padding: 0.5rem;
          text-align: right;
        }
        .logo-placeholder {
          display: none;
        }
      }
    </style>
  </head>
  <body class="bg-gray-50 text-gray-800 antialiased">
    
      

    <div id="mainApp" class=" p-4 sm:p-6 max-w-7xl mx-auto">
      <header
        class="bg-white rounded-xl shadow-lg p-6 mb-8 flex flex-col sm:flex-row items-center justify-between"
      >
        <div class="flex items-center space-x-4 mb-4 sm:mb-0">
          <div
            class="logo-placeholder w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center text-white text-2xl font-bold"
          >
            üè®
          </div>
          <h1 class="text-3xl font-extrabold text-gray-900">
            Room Management
          </h1>
        </div>
        <nav
          class="flex flex-wrap justify-center sm:justify-end gap-2 sm:gap-4 w-full sm:w-auto"
        >
          <button
            id="tabChecklist"
            class="tab-button py-2 px-6 text-sm font-semibold rounded-full transition-all text-white bg-blue-600 shadow-md hover:bg-blue-700"
          >
            Checklist
          </button>
          <button
            id="tabHousekeeping"
            class="tab-button py-2 px-6 text-sm font-semibold rounded-full transition-all text-gray-700 bg-gray-200 hover:bg-gray-300"
          >
            Reports
          </button>
         
          
        </nav>
      </header>

      <main class="space-y-8">
        <div id="roomChecklistSection" class="tab-content">
          <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
            <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">
              Hotel Room Checklist
            </h2>
            <form id="checklistForm" class="space-y-5">
              <div>
                <label for="room" class="block font-medium text-gray-700"
                  >Room Number:</label
                >
                <select
                  id="room"
                  name="room"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                >
                  <option value="">-- Select a Room --</option>
                  <option value="101">Room 101</option>
                  <option value="102">Room 102</option>
                  <option value="103">Room 103</option>
                  <option value="201">Room 201</option>
                  <option value="202">Room 202</option>
                  <option value="301">Room 301</option>
                </select>
              </div>
              <div>
                <label for="date" class="block font-medium text-gray-700"
                  >Date:</label
                >
                <input
                  type="date"
                  id="date"
                  name="date"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                  <p class="font-medium text-gray-700 mb-2">Towels:</p>
                  <label class="mr-4 inline-flex items-center"
                    ><input
                      type="radio"
                      name="towels"
                      value="yes"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    Yes</label
                  >
                  <label class="inline-flex items-center"
                    ><input
                      type="radio"
                      name="towels"
                      value="no"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    No</label
                  >
                </div>
                <div>
                  <p class="font-medium text-gray-700 mb-2">Soap:</p>
                  <label class="mr-4 inline-flex items-center"
                    ><input
                      type="radio"
                      name="soap"
                      value="yes"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    Yes</label
                  >
                  <label class="inline-flex items-center"
                    ><input
                      type="radio"
                      name="soap"
                      value="no"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    No</label
                  >
                </div>
                <div>
                  <p class="font-medium text-gray-700 mb-2">TV Remote:</p>
                  <label class="mr-4 inline-flex items-center"
                    ><input
                      type="radio"
                      name="tv_remote"
                      value="yes"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    Yes</label
                  >
                  <label class="inline-flex items-center"
                    ><input
                      type="radio"
                      name="tv_remote"
                      value="no"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    No</label
                  >
                </div>
                <div>
                  <p class="font-medium text-gray-700 mb-2">Keycard:</p>
                  <label class="mr-4 inline-flex items-center"
                    ><input
                      type="radio"
                      name="keycard"
                      value="yes"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    Yes</label
                  >
                  <label class="inline-flex items-center"
                    ><input
                      type="radio"
                      name="keycard"
                      value="no"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    No</label
                  >
                </div>
                <div class="sm:col-span-2">
                  <p class="font-medium text-gray-700 mb-2">
                    Clean Bed Linen:
                  </p>
                  <label class="mr-4 inline-flex items-center"
                    ><input
                      type="radio"
                      name="bed_linen"
                      value="yes"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    Yes</label
                  >
                  <label class="inline-flex items-center"
                    ><input
                      type="radio"
                      name="bed_linen"
                      value="no"
                      required
                      class="mr-2 text-blue-600 focus:ring-blue-500"
                    />
                    No</label
                  >
                </div>
              </div>
              <button
                type="submit"
                class="w-full bg-green-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-green-700 transition duration-300 ease-in-out shadow-md"
              >
                Submit Checklist
              </button>
            </form>

            <p
              id="message"
              class="text-center text-green-600 mt-4 text-lg font-medium"
            ></p>
          </div>

          <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg mt-8">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">
              Room Checklists
            </h2>
            <div
              class="flex flex-col sm:flex-row items-center justify-between gap-4 mb-6"
            >
              <input
                type="search"
                id="searchInput"
                placeholder="Search room or date..."
                class="flex-1 w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
              />
              <div class="flex gap-2 w-full sm:w-auto">
                <button
                  onclick="exportToExcel()"
                  class="flex-1 sm:flex-none bg-yellow-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-yellow-600 transition"
                >
                  Export
                </button>
                <button
                  onclick="printChecklists()"
                  class="flex-1 sm:flex-none bg-blue-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-600 transition"
                >
                  Print
                </button>
              </div>
            </div>
            <div class="overflow-x-auto rounded-lg border border-gray-200">
              <table
                id="checklistTable"
                class="min-w-full table-auto border-collapse"
              >
                <thead class="bg-gray-100">
                  <tr>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Room
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Date
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Items
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Actions
                    </th>
                  </tr>
                </thead>
                <tbody
                  id="checklistBody"
                  class="bg-white divide-y divide-gray-200 text-sm"
                ></tbody>
              </table>
            </div>
            <div class="flex justify-center items-center gap-4 mt-6">
              <button
                id="prevBtn"
                class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition"
              >
                Prev
              </button>
              <span id="pageInfo" class="font-medium text-gray-700"></span>
              <button
                id="nextBtn"
                class="bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition"
              >
                Next
              </button>
            </div>
          </div>

          <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg mt-8">
            <h3 class="text-2xl font-bold mb-4 text-gray-800">
              Missing Items Summary
            </h3>
            <div
              class="flex flex-col sm:flex-row items-center gap-4 mb-4 justify-between"
            >
              <label for="missingItemsDateFilter" class="font-medium text-gray-700"
                >Filter by Date:</label
              >
              <input
                type="date"
                id="missingItemsDateFilter"
                class="flex-1 w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
              />
              <button
                id="clearMissingItemsDateFilter"
                class="w-full sm:w-auto bg-gray-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-gray-600 transition"
              >
                Clear Filter
              </button>
            </div>
            <div id="missingItemsSummary" class="mt-4"></div>
          </div>
        </div>

        <div id="housekeepingReportSection" class="tab-content hidden">
          <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
            <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">
              Housekeeping Room Status Report
            </h2>
            <form id="statusReportForm" class="space-y-5">
              <div>
                <label for="reportRoom" class="block font-medium text-gray-700"
                  >Room Name:</label
                >
                <input
                  type="text"
                  id="reportRoom"
                  name="room"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  placeholder="e.g., 101, Suite A"
                />
              </div>
              <div>
                <label
                  for="reportCategory"
                  class="block font-medium text-gray-700"
                  >Category:</label
                >
                <select
                  id="reportCategory"
                  name="category"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                >
                  <option value="">-- Select Category --</option>
                  <option value="delux1">Delux 1</option>
                  <option value="delux2">Delux 2</option>
                  <option value="standard">Standard</option>
                </select>
              </div>
              <div>
                <label
                  for="reportStatus"
                  class="block font-medium text-gray-700"
                  >Status:</label
                >
                <select
                  id="reportStatus"
                  name="status"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                >
                  <option value="">-- Select Status --</option>
                  <option value="arrival">Arrival</option>
                  <option value="occupied">Occupied</option>
                  <option value="departure">Departure</option>
                  <option value="vacant_ready">Vacant Ready</option>
                  <option value="vacant_not_ready">Vacant but not Ready</option>
                  <option value="out_of_order">Out of Order</option>
                  <option value="out_of_service">Out of Service</option>
                </select>
              </div>
              <div>
                <label
                  for="reportRemarks"
                  class="block font-medium text-gray-700"
                  >Remarks:</label
                >
                <textarea
                  id="reportRemarks"
                  name="remarks"
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  rows="3"
                  placeholder="Any additional notes..."
                ></textarea>
              </div>
              <div>
                <label
                  for="reportDateTime"
                  class="block font-medium text-gray-700"
                  >Date and Time:</label
                >
                <input
                  type="datetime-local"
                  id="reportDateTime"
                  name="dateTime"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                />
              </div>
              <button
                type="submit"
                class="w-full bg-blue-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-700 transition duration-300 ease-in-out shadow-md"
              >
                Submit Report
              </button>
            </form>

            <p
              id="statusMessage"
              class="text-center text-green-600 mt-4 text-lg font-medium"
            ></p>
          </div>

          <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg mt-8">
            <h2 class="text-2xl font-bold mb-4 text-gray-800">
              Housekeeping Reports
            </h2>
            <div
              class="flex flex-col sm:flex-row items-center justify-between gap-4 mb-6"
            >
              <div
                class="flex flex-col sm:flex-row items-center gap-4 w-full sm:w-auto"
              >
                <label for="filterDate" class="font-medium text-gray-700"
                  >Filter by Date:</label
                >
                <input
                  type="date"
                  id="filterDate"
                  class="flex-1 w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
                />
              </div>
              <div class="flex gap-2 w-full sm:w-auto">
                <button
                  onclick="filterStatusReportsByDate()"
                  class="flex-1 sm:flex-none bg-purple-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-purple-700 transition"
                >
                  Apply
                </button>
                <button
                  onclick="clearStatusDateFilter()"
                  class="flex-1 sm:flex-none bg-gray-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-gray-600 transition"
                >
                  Clear
                </button>
                <button
                  onclick="exportStatusReportsToExcel()"
                  class="flex-1 sm:flex-none bg-yellow-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-yellow-600 transition"
                >
                  Export
                </button>
                <button
                  onclick="printStatusReports()"
                  class="flex-1 sm:flex-none bg-blue-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-600 transition"
                >
                  Print
                </button>
              </div>
            </div>
            <div class="overflow-x-auto rounded-lg border border-gray-200">
              <table
                id="statusReportTable"
                class="min-w-full table-auto border-collapse"
              >
                <thead class="bg-gray-100">
                  <tr>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Room
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Category
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Status
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Remarks
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Date & Time
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Actions
                    </th>
                  </tr>
                </thead>
                <tbody
                  id="statusReportBody"
                  class="bg-white divide-y divide-gray-200 text-sm"
                ></tbody>
              </table>
            </div>
          </div>
        </div>

        <div id="inventorySection" class="tab-content hidden">
          <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg">
            <h2 class="text-2xl font-bold mb-6 text-center text-gray-800">
              Inventory Management
            </h2>
            <form id="inventoryForm" class="space-y-5">
              <div>
                <label
                  for="inventoryItem"
                  class="block font-medium text-gray-700"
                  >Item Name:</label
                >
                <input
                  type="text"
                  id="inventoryItem"
                  name="item"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  placeholder="e.g., Shampoo, Soap, Towels"
                />
              </div>
              <div>
                <label
                  for="inventoryQuantity"
                  class="block font-medium text-gray-700"
                  >Quantity:</label
                >
                <input
                  type="number"
                  id="inventoryQuantity"
                  name="quantity"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  placeholder="e.g., 50"
                  min="1"
                />
              </div>
              <div>
                <label
                  for="lowStockLevel"
                  class="block font-medium text-gray-700"
                  >Low Stock Notification Level:</label
                >
                <input
                  type="number"
                  id="lowStockLevel"
                  name="lowStockLevel"
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                  placeholder="e.g., 10"
                  min="0"
                />
              </div>
              <div>
                <label
                  for="inventoryAction"
                  class="block font-medium text-gray-700"
                  >Action:</label
                >
                <select
                  id="inventoryAction"
                  name="action"
                  required
                  class="w-full mt-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                >
                  <option value="add">Add to Stock</option>
                  <option value="use">Use from Stock</option>
                </select>
              </div>
              <button
                type="submit"
                class="w-full bg-indigo-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-indigo-700 transition duration-300 ease-in-out shadow-md"
              >
                Update Inventory
              </button>
            </form>
            <p
              id="inventoryMessage"
              class="text-center text-green-600 mt-4 text-lg font-medium"
            ></p>
          </div>

          <div class="bg-white p-6 md:p-8 rounded-xl shadow-lg mt-8">
            <h3 class="text-2xl font-bold mb-4 text-gray-800">
              Current Stock Levels
            </h3>
            <div
              class="flex flex-col sm:flex-row items-center justify-between gap-4 mb-6"
            >
              <input
                type="search"
                id="inventorySearch"
                placeholder="Search item..."
                class="flex-1 w-full sm:w-auto px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500"
              />
              <div class="flex gap-2 w-full sm:w-auto">
                <button
                  onclick="loadInventory()"
                  class="flex-1 sm:flex-none bg-gray-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-gray-600 transition"
                >
                  Refresh
                </button>
                <button
                  onclick="exportInventoryToExcel()"
                  class="flex-1 sm:flex-none bg-yellow-500 text-white font-semibold px-4 py-2 rounded-lg hover:bg-yellow-600 transition"
                >
                  Export
                </button>
              </div>
            </div>

            <div
              class="flex flex-col sm:flex-row items-center justify-between gap-4 mb-6 mt-8"
            >
              <h3 class="text-2xl font-bold text-gray-800">Inventory Snapshot</h3>
              <div class="flex flex-col sm:flex-row items-center gap-4">
                <label for="snapshotDate" class="font-medium text-gray-700"
                  >Select Date:</label
                >
                <input
                  type="date"
                  id="snapshotDate"
                  class="px-4 py-2 border border-gray-300 rounded-lg"
                />
                <button
                  onclick="getInventorySnapshot()"
                  class="w-full sm:w-auto bg-blue-600 text-white font-semibold px-4 py-2 rounded-lg hover:bg-blue-700 transition"
                >
                  View Snapshot
                </button>
              </div>
            </div>

            <div class="overflow-x-auto rounded-lg border border-gray-200">
              <table
                id="inventoryTable"
                class="min-w-full table-auto border-collapse"
              >
                <thead class="bg-gray-100">
                  <tr>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Item Name
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Stock Level
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                    >
                      Low Stock Threshold
                    </th>
                    <th
                      class="border px-4 py-3 text-left text-sm font-semibold text-gray-600 uppercase tracking-wider"
                      id="actionsHeader"
                    >
                      Actions
                    </th>
                  </tr>
                </thead>
                <tbody
                  id="inventoryBody"
                  class="bg-white divide-y divide-gray-200 text-sm"
                ></tbody>
              </table>
            </div>
          </div>
        </div>
      </main>
    </div>

    <script src="script3.js"></script>
  </body>
</html>
